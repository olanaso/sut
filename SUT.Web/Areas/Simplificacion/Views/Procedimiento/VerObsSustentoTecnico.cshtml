@using Sut.Entities;
@model Sut.Entities.Procedimiento
@{
    Sut.Security.UsuarioInfo user = ViewBag.Usuario as Sut.Security.UsuarioInfo;
    Sut.Entities.Expediente exp = ViewBag.Expediente as Sut.Entities.Expediente;
    Sut.Entities.Observacion obs = ViewBag.Observacion as Sut.Entities.Observacion;

    List<Sut.Entities.Observacion> obstecnico = ViewBag.Observaciontecnico as List<Sut.Entities.Observacion>;
    ViewBag.Icon = "fa fa-file-text-o";
    ViewBag.Title = "Sustento Técnico " + Model.Codigo;
    ViewBag.Descripcion = "";
}

@if (exp.EstadoExpediente == EstadoExpediente.Observado || exp.EstadoExpediente == EstadoExpediente.Subsanado || exp.EstadoExpediente == EstadoExpediente.Aprobado ||
                exp.EstadoExpediente == EstadoExpediente.Presentado)
{
    <div class="box box-danger">
        <div class="box-body">
            <div class="col-sm-12 col-xs-12" style="border-color:red">

                <div class="pull-left col-sm-12 col-xs-12">

                    <fieldset class="scheduler-border">
                        <legend>
                            Información Complementaria a la Observación
                        </legend>
                        <br />
                        <div class="form-group">
                            @if (obs != null)
                            {
                                <textarea rows="7" class="form-control" id="txtaObservarExp" style="border-color:red;background:#ff00002e;"> @obs.Descripcion</textarea>
                            }
                            else
                            {<textarea rows="7" class="form-control" id="txtaObservarExp" style="border-color:red;background:#ff00002e;"> </textarea>}
                        </div>

                    </fieldset>

                </div>

            </div>
        </div>
    </div>
}
@using (Html.BeginForm("SustentoTecnico", "Procedimiento", new { @area = "Simplificacion" }, FormMethod.Post, new { @id = "form-editar" }))
{
    @Html.HiddenFor(model => model.ProcedimientoId)
    @Html.HiddenFor(model => model.Operacion)

    <div class="box box-danger">
        <div class="box-body form-horizontal">
            <div class="form-group">
                <label class="col-sm-2 col-xs-12 control-label" for="Denominacion">Denominación :</label>
                <div class="col-sm-10 col-xs-12">
                    @Html.TextBoxFor(model => model.Denominacion, new { @class = "form-control", @readonly = "readonly" })
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 col-xs-12 control-label">Tipo :</label>
                <div class="col-sm-10 col-xs-12">
                    @Html.TipoProcedimiento(Model.TipoProcedimiento)
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 col-xs-12 control-label">Dependencia a Cargo :</label>
                <div class="col-sm-10 col-xs-12">
                    @Html.TextBoxFor(model => model.UndOrgResponsable.Nombre, new { @class = "form-control", @readonly = "readonly" })
                </div>
            </div>
        </div>
    </div>

    if (Model.Operacion != OperacionExpediente.Eliminacion)
    {
        if (Model.Expediente.TipoExpediente != TipoExpediente.CargaInicial)
        {
            if (Model.Calificacion != CalificacionProcedimiento.Automatica && Model.Calificacion != CalificacionProcedimiento.SilencioPositivo)
            {
            <div class="box box-default">
                <div class="box-header with-border">
                    <h3 class="box-title"> Sustento Técnico de la Calificación</h3>
                </div>
                <div class="box-body form-horizontal">
                    <div class="form-group">
                        <label class="col-sm-2 col-xs-12 control-label">Calificación :</label>
                        <div class="col-sm-10 col-xs-12">
                            <input type="text" value="@ViewBag.Calificacion" class="form-control" readonly />
                        </div> 
                    </div>  

                    @*/*Inicio SustTecCalificacion*/*@
                    <div class="form-group" style="margin-bottom: 5px;">
                        <label class="col-sm-2 col-xs-12 control-label"></label>
                        <div class="col-sm-10 col-xs-12">
                            
                            @if (obstecnico.Count != 0)
                            {
                                var cont = 0;
                                var texto1 = "";
                                foreach (var item in obstecnico)
                                {
                                    if (@item.Pantalla == "Sustento Tecnico" && @item.NombreCampo == "SustTecCalificacion")
                                    {
                                        cont = 1; 
                                        if (@item.TipoEstado == "1")
                                        { 
                                            texto1 = @item.Descripcion;
                                        }
                                        else if (@item.TipoEstado == "2")
                                        { 
                                            <script> 
                                                window.addEventListener("load", function() { 
                                                    sut.editProcedimiento.AsignarSustentarexp.textoobservacion("@texto1.Replace("\n", " ")", "@item.Descripcion.Replace("\n", " ")", 'divSustTecCalificacion', 'divSustTecCalificaciondetalle','Sustento de la Calificación :','SustTecCalificacion1','SustTecCalificacion2',10, "@exp.EstadoExpediente",'SustTecCalificacion');
                                                });
                                            </script>
                                        } 
                                        else if (@item.TipoEstado == "3")
                                        {
                                            <script> 
                                                window.addEventListener("load", function() { 
                                                    sut.editProcedimiento.textosustento("@item.Descripcion", 'divSustTecCalificacion', 'divSustTecCalificacionSustento','Sustento de la Calificación :','SustTecCalificacionSustento',4);
                                                });
                                            </script>
                                        }
                                    }
                                } 
                            }

                        </div>
                    </div>
                    <div id="divSustTecCalificacion" >
                    </div>
                    @*/*Fin*/*@ 
                    <div class="form-group">
                        <label class="col-sm-2 col-xs-12 control-label" id="SustTecCalificacionlabel">Sustento de la Calificación :</label>
                        <div class="col-sm-10 col-xs-12"> 
                            <label id="SustTecCalificacion" name="SustTecCalificacion" class="form-control" style="border-color:#ddd;background: #eeeeee;font-weight: 600;height: 100%;">@Html.DisplayFor(model => model.SustTecCalificacion)</label>
                        </div>
                    </div>

                </div>
            </div>
            }
            if (Model.PlazoAtencion > 30)
            {
            <div class="box box-default">
                <div class="box-header with-border">
                    <h3 class="box-title"> Sustento Técnico del Plazo de Atención</h3>
                </div>

                <div class="box-body form-horizontal">
                    <div class="form-group">
                        <label class="col-sm-2 col-xs-12 control-label" for="PlazoAtencion">Plazo de Atención :</label>
                        <div class="col-sm-4 col-xs-12">
                            <div class="input-group">
                                @Html.TextBoxFor(model => model.PlazoAtencion, new { @class = "form-control", @type = "number", min = 0, @readonly = true })
                                <div class="input-group-addon">
                                    <span>días hábiles</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-sm-2 col-xs-12 control-label" for="PlazoAtencion">Base legal del Plazo de Atención:</label>
                        <div class="col-sm-10 col-xs-12">
                            @Html.TextAreaFor(model => model.SustentoPlazo, new { @class = "form-control", @readonly = true })

                        </div>
                    </div>

                </div>
            </div>
            }
        }

        <div class="box box-default">
            <div class="box-header with-border">
                <h3 class="box-title"> Sustento Técnico de los Requisitos</h3>
            </div>
            <div class="box-body">
                <h3>Requisitos Generales</h3>
                <br />
                @if (Model.Requisito.Count > 0)
                {
                <div class="table-responsive"> 
                    <table id="tblRequisito" class="table table-condensed table-bordered table-striped" style="margin-bottom: 0px;">
                        <thead>
                            <tr>
                                <th style="width:40px;">
                                </th>
                                <th style="width:20%">Nombre</th>
                                <th style="width:20%">Justificación</th>
                                <th>Sustento Legal</th>
                            </tr>
                        </thead>
                        <tbody>
                           
                                @for (int i = 0; i < Model.Requisito.Count; i++)
                                {
                                    if (Model.Requisito[i].TipoRequisito == TipoRequisito.General)
                                    { 
                                        <tr>
                                            <td colspan="5"> 
                                                @*/*Inicio TecnicoRequisitos*/*@
                                                <div class="form-group">
                                                    <div class="col-sm-10 col-xs-12">  
                                                        @if (obstecnico.Count != 0)
                                                        {
                                                            var cont = 0;
                                                            var texto1 = "";
                                                            foreach (var item in obstecnico)
                                                            {
                                                                var nombre = "NombredelosTecnicoRequisitos" + i;

                                                                if (@item.Pantalla == "Sustento Tecnico" && @item.NombreCampo == nombre)
                                                                {
                                                                    cont = 1; 
                                                                    if (@item.TipoEstado == "1")
                                                                    { 
                                                                        texto1 = @item.Descripcion;
                                                                    }
                                                                    else if (@item.TipoEstado == "2")
                                                                    { 
                                                                        <script> 
                                                                            window.addEventListener("load", function() { 
                                                                                sut.editProcedimiento.textoobservacionTecnicoRequisitos("@texto1.Replace("\n", " ")", "@item.Descripcion.Replace("\n", " ")", 4, "@exp.EstadoExpediente", @i);
                                                                            });
                                                                        </script>
                                                                    } 
                                                                    else if (@item.TipoEstado == "3")
                                                                    {
                                                                        <script> 
                                                                            window.addEventListener("load", function() { 
                                                                                sut.editProcedimiento.textosustento("@item.Descripcion.Replace("\n", " ")", 4, "@exp.EstadoExpediente", @i);
                                                                            });
                                                                        </script>
                                                                    }
                                                                }
                                                            }
                                                        } 
                                                    </div>
                                                </div> 
                                            <div id="divTecnicoRequisitos" >
                                                <table id="divTecnicoRequisitos0_@i" class="table table-condensed table-bordered table-striped" style="margin-bottom: 0px;">
                                                    <tbody></tbody>
                                                </table>
                                            </div>
                                        </td>
                                        @*/*Fin*/*@
                                    </tr> 
                                    <tr id="trTecnicoRequisitos_@i">  

                                        <td>
                                            @*@MvcHtmlString.Create((i + 1).ToString())*@
                                            @Model.Requisito[i].RecNum

                                            @Html.HiddenFor(model => model.Requisito[i].RequisitoId)
                                            @Html.HiddenFor(model => model.Requisito[i].Nombre)
                                            @Html.HiddenFor(model => model.Requisito[i].SustentoTecnico)
                                        </td>
                                        @*<td> @Html.TextAreaFor(model => model.Requisito[i].Nombre, new { @class = "form-control", @readonly = true }) </td>*@
                                        <td> @Model.Requisito[i].Nombre</td>
                                        <td>@Model.Requisito[i].SustentoTecnico</td>
                                        <td>
                                            @Html.HiddenFor(model => model.Requisito[i].BaseLegalId)
                                            @Html.HiddenFor(model => model.Requisito[i].BaseLegal.BaseLegalId)
                                            <div class="table-responsive">
                                                <table id="tblBaseLegal_@MvcHtmlString.Create(i.ToString())" class="table table-condensed table-bordered table-striped" style="margin-bottom: 0px;">
                                                    <thead>
                                                        <tr>
                                                            <th style="width:80px;">
                                                            </th> 
                                                            <th style="width:60px;">Artículo</th>
                                                            <th>Denominación</th>
                                                            <th style="width:100px;">Tipo de Norma</th>
                                                            <th style="width:60px;">Número</th>
                                                            <th style="width:100px;">Fecha Publicación</th>

                                                        </tr>
                                                    </thead>
                                                    <tbody></tbody>
                                                </table>
                                            </div>
                                        </td>
                                    </tr> 
                                    }
                                }  
                        </tbody>
                    </table>
                </div> 
           
                <h3>Nota:</h3>
                <br />
                <div class="table-responsive">
                    <table id="tblRequisito" class="table table-condensed table-bordered table-striped" style="margin-bottom: 0px;">
                        <thead>
                            <tr>
                                <th style="width:40px;">
                                </th>
                                <th style="width:20%">Nombre</th>
                                <th style="width:20%">Justificación</th>
                                <th>Sustento Legal</th>
                            </tr>
                        </thead>
                        <tbody>

                            @for (int i = 0; i < Model.Requisito.Count; i++)
                            {
                                if (Model.Requisito[i].TipoRequisito == TipoRequisito.Especifico)
                                {

                                    <tr>
                                        <td colspan="4"> 
                                            @*/*Inicio TecnicoRequisitos*/*@
                                            <div class="form-group">
                                                <div class="col-sm-10 col-xs-12">
                                                     
                                                    @if (obstecnico.Count != 0)
                                                    {
                                                        var cont = 0;
                                                        var texto1 = "";
                                                        foreach (var item in obstecnico)
                                                        {
                                                            var nombre = "NombredelosTecnicoRequisitos" + i;

                                                            if (@item.Pantalla == "Sustento Tecnico" && @item.NombreCampo == nombre)
                                                            {
                                                                cont = 1;

                                                                if (@item.TipoEstado == "1")
                                                                { 
                                                                    texto1 = @item.Descripcion;
                                                                }
                                                                else if (@item.TipoEstado == "2")
                                                                { 
                                                                    <script> 
                                                                        window.addEventListener("load", function() { 
                                                                            sut.editProcedimiento.textoobservacionTecnicoRequisitos("@texto1.Replace("\n", " ")", "@item.Descripcion.Replace("\n", " ")", 4, "@exp.EstadoExpediente", @i); 
                                                                        });
                                                                    </script>
                                                                } 
                                                                else if (@item.TipoEstado == "3")
                                                                {
                                                                    <script> 
                                                                        window.addEventListener("load", function() { 
                                                                            sut.editProcedimiento.textosustento("@item.Descripcion.Replace("\n", " ")", 4, "@exp.EstadoExpediente", @i);
                                                                        });
                                                                    </script>
                                                                }
                                                            }
                                                        }
                                                    } 
                                                </div>
                                            </div>
                                            <div id="divTecnicoRequisitos">
                                                <table id="divTecnicoRequisitos0_@i" class="table table-condensed table-bordered table-striped" style="margin-bottom: 0px;">
                                                    <tbody></tbody>
                                                </table>
                                            </div>
                                            @*/*Fin*/*@
                                        </td>
                                    </tr>
                                    <tr id="trTecnicoRequisitos_@i">
                                        <td>
                                            @*@MvcHtmlString.Create((i + 1).ToString())*@
                                            @Model.Requisito[i].RecNum

                                            @Html.HiddenFor(model => model.Requisito[i].RequisitoId)
                                            @Html.HiddenFor(model => model.Requisito[i].Nombre)
                                            @Html.HiddenFor(model => model.Requisito[i].SustentoTecnico)
                                        </td>
                                        @*<td> @Html.TextAreaFor(model => model.Requisito[i].Nombre, new { @class = "form-control", @readonly = true }) </td>*@
                                        <td> @Model.Requisito[i].Nombre</td>
                                        <td>@Model.Requisito[i].SustentoTecnico</td>
                                        <td>
                                            @Html.HiddenFor(model => model.Requisito[i].BaseLegalId)
                                            @Html.HiddenFor(model => model.Requisito[i].BaseLegal.BaseLegalId)
                                            <div class="table-responsive">
                                                <table id="tblBaseLegal_@MvcHtmlString.Create(i.ToString())" class="table table-condensed table-bordered table-striped" style="margin-bottom: 0px;">
                                                    <thead>
                                                        <tr>
                                                            <th style="width:80px;">
                                                            </th>
                                                            <th style="width:60px;">Artículo</th>
                                                            <th>Denominación</th>
                                                            <th style="width:100px;">Tipo de Norma</th>
                                                            <th style="width:60px;">Número</th>
                                                            <th style="width:100px;">Fecha Publicación</th>

                                                        </tr>
                                                    </thead>
                                                    <tbody></tbody>
                                                </table>
                                            </div>
                                        </td>
                                    </tr>
                                }
                            }
                        </tbody>
                    </table>
                </div>
                }


            </div>
        </div> 
    }
    else
    {
        <div class="box box-default">
            <div class="box-header with-border">
                <h3 class="box-title"> Sustento Técnico de los Requisitos</h3>
            </div>
            <div class="box-body">
                @Html.TextAreaFor(model => model.SustentoEliminacion, new { @class = "form-control", @readonly = true })
            </div>
        </div>
    } 


}
<div style="position: fixed;right: 15px;top: 60px; margin-bottom: 0; z-index: 5;"> 
    <a href="@Url.Content("~/Simplificacion/Expediente/VerObservacion/")?id=@Model.ExpedienteId&&entidadid=@ViewBag.entidadver" class="btn btn-danger"><i class="fa fa-arrow-left"></i> Volver</a>   
</div>
<div class="modal fade" id="modal-ventana">
    <div id="ventana-container">
    </div>
</div>
@section Style{
    <style>
        fieldset.scheduler-border {
            border: 1px groove #ddd !important;
            padding: 0 1.4em 0 1.4em !important;
            margin: 0 0 1.5em 0 !important;
            -webkit-box-shadow: 0px 0px 0px 0px #000;
            box-shadow: 0px 0px 0px 0px #000;
        }

        .scheduler-border legend {
            font-size: 1.2em !important;
            font-weight: bold !important;
            text-align: left !important;
            width: auto !important;
            margin-bottom: 0px !important;
            padding: 0px !important;
            border-bottom: none;
        }
    </style>
}
@section Script {
    <script>

        sut.editProcedimiento = {
            BaseLegal: {
                datavalidar: @Html.Raw(ViewBag.ListaBaseLegalvalidar != null ? ViewBag.ListaBaseLegalvalidar : "[]") ,
                data: @Html.Raw(ViewBag.ListaBaseLegal != null ? ViewBag.ListaBaseLegal : "[]") ,
                init: () => {
                    sut.editProcedimiento.BaseLegal.generar();
                }, 
                generar: () => {

                    debugger;

                    for (var k = 0; k < sut.editProcedimiento.BaseLegal.data.length; k++) {
                        var tabla = $('#tblBaseLegal_' + k + ' tbody');
                        $('#tblBaseLegal_' + k + ' tbody tr').remove();
                        if (sut.editProcedimiento.BaseLegal.data[k].length > 0) {
                            var rows = '';
                            $.each(sut.editProcedimiento.BaseLegal.data[k], function (i, r) {
                                rows += sut.string.format('<tr data-index="{0}" >', i);
                                rows += '<td>';
                                rows += sut.string.format('<span>{0}</span>', i + 1);
                                rows += sut.string.format('<input type="hidden" name="Requisito[{0}].BaseLegal.BaseLegalNorma[{1}].BaseLegalId" value="{2}" />', k, i, r.BaseLegalId);
                                rows += sut.string.format('<input type="hidden" name="Requisito[{0}].BaseLegal.BaseLegalNorma[{1}].BaseLegalNormaId" value="{2}" />', k, i, r.BaseLegalNormaId);
                                rows += sut.string.format('<input type="hidden" name="Requisito[{0}].BaseLegal.BaseLegalNorma[{1}].TipoBaseLegal" value="{2}" />', k, i, r.TipoBaseLegal);
                                rows += sut.string.format('<input type="hidden" name="Requisito[{0}].BaseLegal.BaseLegalNorma[{1}].NormaId" value="{2}" />', k, i, r.NormaId);
                                rows += sut.string.format('<input type="hidden" name="Requisito[{0}].BaseLegal.BaseLegalNorma[{1}].Descripcion" value="{2}" />', k, i, r.Descripcion);
                                rows += sut.string.format('<input type="hidden" name="Requisito[{0}].BaseLegal.BaseLegalNorma[{1}].TipoNormaId" value="{2}" />', k, i, r.TipoNormaId);
                                rows += sut.string.format('<input type="hidden" name="Requisito[{0}].BaseLegal.BaseLegalNorma[{1}].Numero" value="{2}" />', k, i, r.Numero);
                                rows += sut.string.format('<input type="hidden" name="Requisito[{0}].BaseLegal.BaseLegalNorma[{1}].FechaPublicacion" value="{2}" />', k, i, r.FechaPublicacion);
                                rows += sut.string.format('<input type="hidden" name="Requisito[{0}].BaseLegal.BaseLegalNorma[{1}].Articulo" value="{2}" />', k, i, r.Articulo);
                                rows += sut.string.format('<input type="hidden" name="Requisito[{0}].BaseLegal.BaseLegalNorma[{1}].ArchivoAdjuntoId" value="{2}" />', k, i, r.ArchivoAdjuntoId);
                                rows += sut.string.format('<input type="hidden" name="Requisito[{0}].BaseLegal.BaseLegalNorma[{1}].Url" value="{2}" />', k, i, r.Url);
                                rows += '</td>';

                                if (r.EstadoACR==2){
                                    rows += sut.string.format('<td colspan="5">{0}</td>', r.DescripcionACR);
                                    //$('#idagregarbaselegal_'+ k).hide(); 
                                }else{ 
                                    rows += sut.string.format('<td>{0}</td>', r.Articulo);
                                    rows += sut.string.format('<td>{0}</td>', r.Descripcion);
                                    rows += sut.string.format('<td>{0}</td>', r.NormaTipo);
                                    rows += sut.string.format('<td>{0}</td>', r.Numero);
                                    rows += sut.string.format('<td>{0}</td>', r.FechaPublicacion);
                                    //$('#idagregarbaselegal_'+ k).show();
                                } 
                                rows += '</tr>';
                            });
                            tabla.append(rows);
                        }
                    }
                },
            },
            ObsVervisualizarSustento: function (evt, input) {
                debugger;
                var key = window.Event ? evt.which : evt.keyCode;
                var chark = String.fromCharCode(key);
                var tempValue = input.value + chark;
                var id = input.id;
                var txt = $(evt.target);
                var valor = id.replace(/\d/g, "");
                $('#mensaje' + valor).hide();
                document.querySelector('#mensaje' + valor).innerText = '';
            },
            ObsVervisualizarSustentotecnico: function (evt, input) {
                debugger;
                var key = window.Event ? evt.which : evt.keyCode;
                var chark = String.fromCharCode(key);
                var tempValue = input.value + chark;
                var id = input.id;
                var txt = $(evt.target);
                var valor = id.substring(18);
                $('#mensajeTecnicoRequisitos_' + valor).hide();
                document.querySelector('#mensajeTecnicoRequisitos_' + valor).innerText = '';
            },
            /*Validacion*/
            ValObservarexp: {
                validarObservarExp: function (idExpediente, procedimientoId, Descripcion, NombreCampo, Pantalla) {
                    debugger;
                    var model = {
                        'filtro.ExpedienteId': idExpediente,
                        'filtro.ProcedimientoId': procedimientoId,
                        'filtro.Descripcion':  document.getElementById(''+Descripcion+'').innerHTML,
                        'filtro.CodValidacion': '4',
                        'filtro.TipoEstado': '4',
                        'filtro.NombreCampo': NombreCampo,
                        'filtro.Pantalla': Pantalla,
                        'filtro.Estado': '1',
                    };
                    $.ajax({
                        type: "POST",
                        //url: '/Simplificacion/Expediente/AgregarObservacion',
                        url: '@Url.Content("~/Simplificacion/Expediente/AgregarObservacion")',
                        data: model,
                        cache: false,
                        beforeSend: function () {
                            //sut.wait.modal('ventana-container');
                            //$('#modal-ventana').modal('show');
                        },
                        success: function (data) {
                            debugger;
                            $('#modal-ventana').modal('hide');

                            $('#aValidarObservarExp' + NombreCampo + '').css("display", "none");
                            $('#aCancelarGeneralExp' + NombreCampo + '').css("display", "");

                            $('#aObservarEditarExp' + NombreCampo + '').css({ "display": "none" });
                            $('#aMasivoObservarExp' + NombreCampo + '').css({ "display": "none" });
                            $('#mensaje' + NombreCampo + '').show();
                            document.querySelector('#mensaje' + NombreCampo + '').innerText = 'Se valido con éxito';

                        },
                        error: function (result) {
                            $('#modal-ventana').modal('hide');
                            sut.error.show('mensajes', result.responseText);
                        }
                    });

                    comentario = "";
                },
                comentario: "",
                observareditarExp: function (Descripcion1, Descripcion2, nombdiv, nombdivdetalle, NombreCampo, dato, titulo, numcol) {
                    debugger;


                    var rows = '';
                    rows += '<div id="' + nombdivdetalle + '">';
                    rows += '<label class="col-sm-2 col-xs-12 control-label" for="Objetivo">' + titulo + '</label>';
                    rows += '<div class="col-sm-' + numcol + ' col-xs-12">';
                    rows += sut.string.format('<td><label name="' + Descripcion1 + '"  id="' + Descripcion1 + '" class="form-control"    style="border-color:green;background:#00a65a36;font-weight: 600;height: 100%;"  >{0}</label></td>', document.getElementById(''+dato+'').innerHTML);
                    rows += '</div>';
                    rows += '<br/>';
                    rows += '<br/>';
                    rows += '<br/>';
                    rows += '<label class="col-sm-2 col-xs-12 control-label" for="Objetivo">' + titulo + '</label>';
                    rows += '<div class="col-sm-' + numcol + ' col-xs-12">';
                    rows += sut.string.format('<td><textarea name="' + Descripcion2 + '" id="' + Descripcion2 + '" class="form-control"  onkeypress="javascript:sut.editProcedimiento.ObsVervisualizarSustento(event,this);" style="border-color:red;background:#ff00002e;"></textarea></td>', '');
                    rows += '</div>';
                    rows += '</div>';

                    $('#' + nombdiv + '').append(rows);

                    $('#aAsignarGuardarObservarExp' + NombreCampo + '').css({ "display": "" });
                    $('#aAsignarCancelarObservarExp' + NombreCampo + '').css({ "display": "" });

                    $('#aValidarObservarExp' + NombreCampo + '').css("display", "none");
                    $('#aCancelarGeneralExp' + NombreCampo + '').css("display", "none");
                    $('#aObservarEditarExp' + NombreCampo + '').css({ "display": "none" });
                    $('#aMasivoObservarExp' + NombreCampo + '').css({ "display": "" });

                    $('#' + dato + '').hide();
                    //document.getElementById('#'+dato+'').style.visibility = "hidden";
                    //visible
                    $('#' + dato + 'label').hide();


                    comentario = $("#txtaObservarExp").val();
                },
                masivoObservarExp: function (expedienteId, datocampo) {
                    debugger;
                    $.ajax({
                        type: "GET",
                        //url: "/Simplificacion/Procedimiento/SelectMasivo",
                        url: '@Url.Content("~/Simplificacion/Procedimiento/SelectMasivo")',
                        data: { multi: true, expedienteId: expedienteId, datocampo: datocampo, fnAdd: 'sut.editProcedimiento.Sede.add' },
                        cache: false,
                        beforeSend: function () {
                            //sut.wait.modal('ventana-container');
                            //$('#modal-ventana').modal('show');
                        },
                        success: function (data) {
                            $('#ventana-container').html(data);
                        },
                        error: function (result) {
                            $('#modal-ventana').modal('hide');
                            sut.error.show('mensajes', result.responseText);
                        }
                    });



                },

                CancelarGeneralExp: function (idExpediente, procedimientoId, idOpcion, Descripcion, NombreCampo, Pantalla) {

                    if (idOpcion == 1) {
                        var model = {
                            'filtro.ExpedienteId': idExpediente,
                            'filtro.ProcedimientoId': procedimientoId,
                            'filtro.Descripcion': document.getElementById(''+Descripcion+'').innerHTML,
                            'filtro.CodValidacion': '4',
                            'filtro.TipoEstado': '4',
                            'filtro.NombreCampo': NombreCampo,
                            'filtro.Pantalla': Pantalla,
                            'filtro.Estado': '1',
                        };
                    }

                    $.ajax({
                        type: "POST",
                        //url: '/Simplificacion/Expediente/CancelarObservacion',
                        url: '@Url.Content("~/Simplificacion/Expediente/CancelarObservacion")',
                        data: model,
                        cache: false,
                        beforeSend: function () {
                            //sut.wait.modal('ventana-container');
                            //$('#modal-ventana').modal('show');
                        },
                        success: function (data) {
                            debugger;
                            $('#modal-ventana').modal('hide');


                            //$('#aValidarObservarExp' + NombreCampo + '').css("display", "");
                            $('#aObservarEditarExp' + NombreCampo + '').css("display", "");
                            //$("#aSustentarObservarExpObjetivo").css("display","");
                            //$("#aMasivoObservarExpObjetivo").css("display","");

                            $('#aCancelarGeneralExp' + NombreCampo + '').css({ "display": "none" });

                            $('#mensaje' + NombreCampo + '').hide();
                            document.querySelector('#mensaje' + NombreCampo + '').innerText = '';

                        },
                        error: function (result) {
                            $('#modal-ventana').modal('hide');
                            sut.error.show('mensajes', result.responseText);
                        }
                    });

                    comentario = "";
                }
            },
            AsignarObservarexp: {
                asignarguardarObservarExp: function (idExpediente, procedimientoId, Descripcion1, Descripcion2, NombreCampo, Pantalla) {
                    debugger;
                    if ($('#' + Descripcion2 + '').val().trim() == "") {

                        showNotification('top', 'right', 'No puedes Guardar una obseracion en blanco', 2);
                        return;
                    }
                    debugger;
                    sut.editProcedimiento.AsignarObservarexp.GuardarObservarExp1(idExpediente, procedimientoId, Descripcion1, Descripcion2, NombreCampo, Pantalla);
                },

                GuardarObservarExp1: function (idExpediente, procedimientoId, Descripcion1, Descripcion2, NombreCampo, Pantalla) {
                    var model = {
                        'filtro.ExpedienteId': idExpediente,
                        'filtro.ProcedimientoId': procedimientoId,
                        'filtro.Descripcion':  document.getElementById(''+Descripcion1+'').innerHTML,
                        'filtro.CodValidacion': '1',
                        'filtro.TipoEstado': '1',
                        'filtro.NombreCampo': NombreCampo,
                        'filtro.Pantalla': Pantalla,
                        'filtro.Estado': '1',
                    };
                    $.ajax({
                        type: "POST",
                        //url: '/Simplificacion/Expediente/AgregarObservacion',
                        url: '@Url.Content("~/Simplificacion/Expediente/AgregarObservacion")',
                        data: model,
                        cache: false,
                        success: function (data) {
                            sut.editProcedimiento.AsignarObservarexp.GuardarObservarExp2(idExpediente, procedimientoId, Descripcion1, Descripcion2, NombreCampo, Pantalla);
                        },
                        error: function (result) {
                            $('#modal-ventana').modal('hide');
                            sut.error.show('mensajes', result.responseText);
                        }
                    });

                    comentario = "";
                },

                GuardarObservarExp2: function (idExpediente, procedimientoId, Descripcion1, Descripcion2, NombreCampo, Pantalla) {
                    var model = {
                        'filtro.ExpedienteId': idExpediente,
                        'filtro.ProcedimientoId': procedimientoId,
                        'filtro.Descripcion': $('#' + Descripcion2 + '').val().trim(),
                        'filtro.CodValidacion': '2',
                        'filtro.TipoEstado': '2',
                        'filtro.NombreCampo': NombreCampo,
                        'filtro.Pantalla': Pantalla,
                        'filtro.Estado': '1',
                    };
                    $.ajax({
                        type: "POST",
                        //url: '/Simplificacion/Expediente/AgregarObservacion',
                        url: '@Url.Content("~/Simplificacion/Expediente/AgregarObservacion")',
                        data: model,
                        cache: false,
                        beforeSend: function () {
                            //sut.wait.modal('ventana-container');
                            //$('#modal-ventana').modal('show');
                        },
                        success: function (data) {
                            $('#modal-ventana').modal('hide');
                            $("#aCancelarObservarExp").css({ "display": "none" });
                            $("#aGuardarObservarExp").css({ "display": "none" });
                            $("#aEditarObservarExp").css({ "display": "" });

                            $('#mensaje' + NombreCampo + '').show();
                            document.querySelector('#mensaje' + NombreCampo + '').innerText = 'Se observo con éxito';

                        },
                        error: function (result) {
                            $('#modal-ventana').modal('hide');
                            sut.error.show('mensajes', result.responseText);
                        }
                    });

                    comentario = "";
                },

                comentario: "",
                asignarCancelarObservarExp: function (idExpediente, procedimientoId, idOpcion, Descripcion1, Descripcion2, NombreCampo, Pantalla, nombdivdetalle, nomsustento, divsustento, nomcampo) {

                    sut.editProcedimiento.AsignarObservarexp.CancelarObservacion1(idExpediente, procedimientoId, idOpcion, Descripcion1, Descripcion2, NombreCampo, Pantalla, nombdivdetalle, nomsustento, divsustento, nomcampo);

                },
                CancelarObservacion1: function (idExpediente, procedimientoId, idOpcion, Descripcion1, Descripcion2, NombreCampo, Pantalla, nombdivdetalle, nomsustento, divsustento, nomcampo) {

                    if (idOpcion == 1) {
                        var model = {
                            'filtro.ExpedienteId': idExpediente,
                            'filtro.ProcedimientoId': procedimientoId,
                            'filtro.Descripcion':  document.getElementById(''+Descripcion1+'').innerHTML,
                            'filtro.CodValidacion': '1',
                            'filtro.TipoEstado': '1',
                            'filtro.NombreCampo': NombreCampo,
                            'filtro.Pantalla': Pantalla,
                            'filtro.Estado': '1',
                        };
                    }

                    $.ajax({
                        type: "POST",
                        //url: '/Simplificacion/Expediente/CancelarDescripcion1',
                        url: '@Url.Content("~/Simplificacion/Expediente/CancelarDescripcion1")',
                        data: model,
                        cache: false,
                        beforeSend: function () {
                            //sut.wait.modal('ventana-container');
                            //$('#modal-ventana').modal('show');
                        },
                        success: function (data) {

                            sut.editProcedimiento.AsignarObservarexp.CancelarObservacion2(idExpediente, procedimientoId, idOpcion, Descripcion1, Descripcion2, NombreCampo, Pantalla, nombdivdetalle, nomsustento, divsustento, nomcampo);
                        },
                        error: function (result) {
                            $('#modal-ventana').modal('hide');
                            sut.error.show('mensajes', result.responseText);
                        }
                    });

                    comentario = "";
                },
                CancelarObservacion2: function (idExpediente, procedimientoId, idOpcion, Descripcion1, Descripcion2, NombreCampo, Pantalla, nombdivdetalle, nomsustento, divsustento, nomcampo) {

                    if (idOpcion == 1) {
                        var model = {
                            'filtro.ExpedienteId': idExpediente,
                            'filtro.ProcedimientoId': procedimientoId,
                            'filtro.Descripcion': $('#' + Descripcion2 + '').val(),
                            'filtro.CodValidacion': '2',
                            'filtro.TipoEstado': '2',
                            'filtro.NombreCampo': NombreCampo,
                            'filtro.Pantalla': Pantalla,
                            'filtro.Estado': '1',
                        };
                    }

                    $.ajax({
                        type: "POST",
                        //url: '/Simplificacion/Expediente/CancelarDescripcion1',
                        url: '@Url.Content("~/Simplificacion/Expediente/CancelarDescripcion1")',
                        data: model,
                        cache: false,
                        beforeSend: function () {
                            //sut.wait.modal('ventana-container');
                            //$('#modal-ventana').modal('show');
                        },
                        success: function (data) {

                            sut.editProcedimiento.AsignarObservarexp.CancelarObservacion3(idExpediente, procedimientoId, idOpcion, Descripcion1, Descripcion2, NombreCampo, Pantalla, nombdivdetalle, nomsustento, divsustento, nomcampo);

                        },
                        error: function (result) {
                            $('#modal-ventana').modal('hide');
                            sut.error.show('mensajes', result.responseText);
                        }
                    });

                    comentario = "";
                },
                CancelarObservacion3: function (idExpediente, procedimientoId, idOpcion, Descripcion1, Descripcion2, NombreCampo, Pantalla, nombdivdetalle, nomsustento, divsustento, nomcampo) {

                    if (idOpcion == 1) {
                        var model = {
                            'filtro.ExpedienteId': idExpediente,
                            'filtro.ProcedimientoId': procedimientoId,
                            'filtro.Descripcion': $('#' + nomsustento + '').val(),
                            'filtro.CodValidacion': '3',
                            'filtro.TipoEstado': '3',
                            'filtro.NombreCampo': NombreCampo,
                            'filtro.Pantalla': Pantalla,
                            'filtro.Estado': '1',
                        };
                    }

                    $.ajax({
                        type: "POST",
                        //url: '/Simplificacion/Expediente/CancelarDescripcion1',
                        url: '@Url.Content("~/Simplificacion/Expediente/CancelarDescripcion1")',
                        data: model,
                        cache: false,
                        beforeSend: function () {
                            //sut.wait.modal('ventana-container');
                            //$('#modal-ventana').modal('show');
                        },
                        success: function (data) {
                            debugger;
                            $('#modal-ventana').modal('hide');

                            $('#' + nomcampo + '').show();
                            //document.getElementById('#'+dato+'').style.visibility = "hidden";
                            //visible
                            $('#' + nomcampo + 'label').show();

                            //$('#aValidarObservarExp' + NombreCampo + '').css({ "display": "" });
                            $('#aObservarEditarExp' + NombreCampo + '').css({ "display": "" });

                            $('#aMasivoObservarExp' + NombreCampo + '').css({ "display": "none" });
                            $('#aAsignarGuardarObservarExp' + NombreCampo + '').css({ "display": "none" });
                            $('#aAsignarCancelarObservarExp' + NombreCampo + '').css({ "display": "none" });

                            $('#' + divsustento + '').remove();
                            $('#' + nombdivdetalle + '').remove();
                            $('#mensaje' + NombreCampo + '').hide();
                            document.querySelector('#mensaje' + NombreCampo + '').innerText = '';




                        },
                        error: function (result) {
                            $('#modal-ventana').modal('hide');
                            sut.error.show('mensajes', result.responseText);
                        }
                    });


                    comentario = "";
                },
                sustentarObservarExp: function (Descripcion1, nombdiv, nombdivdetalle, NombreCampo, titulo, numcol) {

                    debugger;
                    var rows = '';
                    rows += '<div id="' + nombdivdetalle + '">';
                    rows += '<br/>';
                    rows += '<br/>';
                    rows += '<br/>';
                    rows += '<label class="col-sm-2 col-xs-12 control-label" for="Objetivo">' + titulo + '</label>';
                    rows += '<div class=col-sm-' + numcol + ' col-xs-12">';
                    rows += sut.string.format('<td><textarea name="' + Descripcion1 + '"  id="' + Descripcion1 + '" class="form-control" style="border-color:#f39c12;background:#f39c1259;" readonly></textarea></td>');
                    rows += '</div>';
                    rows += '</div>';
                    $('#' + nombdiv + '').append(rows);

                    $('#aSustentarObservarExp' + NombreCampo + '').css({ "display": "none" });
                    $('#aGuardarSustentarExp' + NombreCampo + '').css({ "display": "" });
                    $('#aCancelarSustentarExp' + NombreCampo + '').css({ "display": "" });

                },
            },
            AsignarSustentarexp: {
                guardarSustentarExp: function (idExpediente, procedimientoId, Descripcion, NombreCampo, Pantalla) {
                    var model = {
                        'filtro.ExpedienteId': idExpediente,
                        'filtro.ProcedimientoId': procedimientoId,
                        'filtro.Descripcion': $('#' + Descripcion + '').val(),
                        'filtro.CodValidacion': '3',
                        'filtro.TipoEstado': '3',
                        'filtro.NombreCampo': NombreCampo,
                        'filtro.Pantalla': Pantalla,
                        'filtro.Estado': '1',
                    };
                    $.ajax({
                        type: "POST",
                        //url: '/Simplificacion/Expediente/AgregarObservacion',
                        url: '@Url.Content("~/Simplificacion/Expediente/AgregarObservacion")',
                        data: model,
                        cache: false,
                        beforeSend: function () {
                            sut.wait.modal('ventana-container');
                            $('#modal-ventana').modal('show');
                        },
                        success: function (data) {

                            $('#modal-ventana').modal('hide');

                            $('#mensaje' + NombreCampo + '').show();
                            document.querySelector('#mensaje' + NombreCampo + '').innerText = 'Sustento';

                        },
                        error: function (result) {
                            $('#modal-ventana').modal('hide');
                            sut.error.show('mensajes', result.responseText);
                        }
                    });

                    comentario = "";
                },
                comentario: "",
                CancelarSustentarExp: function (idExpediente, procedimientoId, Descripcion, NombreCampo, Pantalla, nombdivdetalle) {

                    var model = {
                        'filtro.ExpedienteId': idExpediente,
                        'filtro.ProcedimientoId': procedimientoId,
                        'filtro.Descripcion': $('#' + Descripcion + '').val(),
                        'filtro.CodValidacion': '3',
                        'filtro.TipoEstado': '3',
                        'filtro.NombreCampo': NombreCampo,
                        'filtro.Pantalla': Pantalla,
                        'filtro.Estado': '1',
                    };

                    $.ajax({
                        type: "POST",
                        //url: '/Simplificacion/Expediente/CancelarDescripcion1',
                        url: '@Url.Content("~/Simplificacion/Expediente/CancelarDescripcion1")',
                        data: model,
                        cache: false,
                        beforeSend: function () {
                            sut.wait.modal('ventana-container');
                            $('#modal-ventana').modal('show');
                        },
                        success: function (data) {
                            debugger;
                            $('#modal-ventana').modal('hide');

                            $('#aSustentarObservarExp' + NombreCampo + '').css({ "display": "" });
                            $('#aGuardarSustentarExp' + NombreCampo + '').css({ "display": "none" });
                            $('#aCancelarSustentarExp' + NombreCampo + '').css({ "display": "none" });

                            $('#' + nombdivdetalle + '').remove();
                            $('#mensaje' + NombreCampo + '').show();
                            document.querySelector('#mensaje' + NombreCampo + '').innerText = 'Se observo con éxito';


                        },
                        error: function (result) {
                            $('#modal-ventana').modal('hide');
                            sut.error.show('mensajes', result.responseText);
                        }
                    });

                    comentario = "";



                },
                textoobservacion: function (Descripcion1, Descripcion2, nombdiv, nombdivdetalle, titulo, campo1, campo2, numcol, estado, nomcampo) {
                    debugger;
                    var rows = '';
                    rows += '<div id="' + nombdivdetalle + '">';
                    rows += '<label class="col-sm-2 col-xs-12 control-label" for="Objetivo">' + titulo + ' </label>';
                    rows += '<div class="col-sm-' + numcol + ' col-xs-12">';
                    rows += sut.string.format('<td><textarea name="' + campo1 + '"  id="' + campo1 + '" class="form-control" style="border-color:green;background:#00a65a36;" readonly >{0}</textarea></td>', Descripcion1);
                    rows += '</div>';
                    rows += '<br/>';
                    rows += '<br/>';
                    rows += '<br/>';
                    rows += '<label class="col-sm-2 col-xs-12 control-label" for="Objetivo">Observar: </label>';
                    rows += '<div class="col-sm-' + numcol + ' col-xs-12">';
                    rows += sut.string.format('<td><textarea name="' + campo2 + '" id="' + campo2 + '" class="form-control"  onkeypress="javascript:sut.editProcedimiento.ObsVervisualizarSustento(event,this);" style="border-color:red;background:#ff00002e;">{0}</textarea></td>', Descripcion2);
                    rows += '</div>';
                    rows += '</div>';
                    $('#' + nombdiv + '').append(rows);

                    if (estado == 'Presentado') {
                        $('#' + nomcampo + '').hide();
                        //document.getElementById('#'+dato+'').style.visibility = "hidden";
                        //visible
                        $('#' + nomcampo + 'label').hide();

                    } else {
                        $('#' + nomcampo + '').show();
                        //document.getElementById('#'+dato+'').style.visibility = "hidden";
                        //visible
                        $('#' + nomcampo + 'label').show();
                    }


                },
                textosustento: function (Descripcion1, nombdiv, nombdivdetalle, titulo, campo, numcol) {

                    debugger;
                    var rows = '';
                    rows += '<div id="' + nombdivdetalle + '">';
                    rows += '<br/>';
                    rows += '<br/>';
                    rows += '<br/>';
                    rows += '<label class="col-sm-2 col-xs-12 control-label" for="Objetivo">' + titulo + '</label>';
                    rows += '<div class="col-sm-' + numcol + ' col-xs-12">';
                    rows += sut.string.format('<td><textarea name="' + campo + '"  id="' + campo + '" class="form-control" style="border-color:#f39c12;background:#f39c1259;" readonly >{0}</textarea></td>', Descripcion1);
                    rows += '</div>';
                    rows += '</div>';
                    $('#' + nombdiv + '').append(rows);
                },
            },
            guardar: function () {
                if ($('#form-editar').valid()) {
                    var model = $('#form-editar').serialize();
                    $.ajax({
                        type: 'POST',
                        //url: '/Simplificacion/Procedimiento/SustentoTecnico',
                        url: '@Url.Content("~/Simplificacion/Procedimiento/SustentoTecnico")',
                        data: model,
                        dataType: 'json',
                        beforeSend: function () {
                            $("#mensajes").hide();
                        },
                        complete: function () {

                        },
                        success: function (result) {
                            sut.msg.success(result.mensaje, function () {
                                @*window.location = '/Simplificacion/Procedimiento/SustentoTecnico/@Model.ProcedimientoId';*@
                                window.location = '@Url.Content("~/Simplificacion/Procedimiento/SustentoTecnico/")@Model.ProcedimientoId';
                            });
                        },
                        error: function (result) {
                            sut.error.show('mensajes', result.responseText);
                        }
                    });
                }
            },
            Observarexp: {
                comentario: "",
                editarObservarExp: function () {
                    $("#aEditarObservarExp").css({ "display": "none" });
                    $("#aGuardarObservarExp").css({ "display": "" });
                    $("#aCancelarObservarExp").css({ "display": "" });
                    $("#txtaObservarExp").prop("disabled", false);
                    comentario = $("#txtaObservarExp").val();
                },
                guardarObservarExp: function (idExpediente, procedimientoId) {

                    if ($('#txtaObservarExp').val().trim() == "") {

                        showNotification('top', 'right', 'No puedes Guardar una obseracion en blanco', 2);
                        return;
                    }


                    var model = {
                        'filtro.ExpedienteId': idExpediente,
                        'filtro.ProcedimientoId': procedimientoId,
                        'filtro.Descripcion': $('#txtaObservarExp').val(),
                        'filtro.CodValidacion': '1',
                        'filtro.TipoEstado': '1',
                        'filtro.NombreCampo': 'Nota de Ayuda Sustento Tecnico',
                        'filtro.Pantalla': 'Sustento Tecnico',
                        'filtro.Estado': '1',
                    };
                    $.ajax({
                        type: "POST",
                        //url: '/Simplificacion/Expediente/AgregarObservacion',
                        url: '@Url.Content("~/Simplificacion/Expediente/AgregarObservacion")',
                        data: model,
                        cache: false,
                        beforeSend: function () {
                            sut.wait.modal('ventana-container');
                            $('#modal-ventana').modal('show');
                        },
                        success: function (data) {

                            $('#modal-ventana').modal('hide');
                            $("#aCancelarObservarExp").css({ "display": "none" });
                            $("#aGuardarObservarExp").css({ "display": "none" });
                            $("#aEditarObservarExp").css({ "display": "" });
                            $("#txtaObservarExp").prop("disabled", true);
                        },
                        error: function (result) {
                            $('#modal-ventana').modal('hide');
                            sut.error.show('mensajes', result.responseText);
                        }
                    });

                    comentario = "";
                },
                CancelarObservarExp: function () {
                    $("#aCancelarObservarExp").css({ "display": "none" });
                    $("#aGuardarObservarExp").css({ "display": "none" });
                    $("#aEditarObservarExp").css({ "display": "" });
                    $("#txtaObservarExp").prop("disabled", true);
                    $("#txtaObservarExp").val(comentario);
                }
            },
            terminar: function () {
                sut.msg.confirm('Si finaliza el registro no podrá modificarlo nuevamente.', () => {
                    if ($('#form-editar').valid()) {
                        var model = $('#form-editar').serialize();
                        $.ajax({
                            type: 'POST',
                            //url: '/Simplificacion/Procedimiento/SustentoTecnico',
                            url: '@Url.Content("~/Simplificacion/Procedimiento/SustentoTecnico")',
                            data: model,
                            dataType: 'json',
                            beforeSend: function () {
                                $("#mensajes").hide();
                            },
                            complete: function () {

                            },
                            success: function (result) {

                                $.ajax({
                                    type: 'POST',
                                    //url: '/Simplificacion/Procedimiento/TerminarSustento',
                                    url: '@Url.Content("~/Simplificacion/Procedimiento/TerminarSustento")',
                                    data: {tipo: 2, ProcedimientoId: @Model.ProcedimientoId},
                                    dataType: 'json',
                                    beforeSend: function () {
                                        $("#mensajes").hide();
                                    },
                                    complete: function () {

                                    },
                                    success: function (result) {
                                        sut.msg.success(result.mensaje, function () {
                                            @*window.location = '/Simplificacion/Procedimiento/SustentoTecnico/@Model.ProcedimientoId';*@
                                            window.location = '@Url.Content("~/Simplificacion/Procedimiento/SustentoTecnico/")@Model.ProcedimientoId';
                                        });
                                    },
                                    error: function (result) {
                                        sut.error.show('mensajes', result.responseText);
                                    }
                                });
                            },
                            error: function (result) {
                                sut.error.show('mensajes', result.responseText);
                            }
                        });
                    }
                });},
            activar : function(){

                $.ajax({
                    type: 'POST',
                    //url: '/Simplificacion/Procedimiento/ActivarSustento',
                    url: '@Url.Content("~/Simplificacion/Procedimiento/ActivarSustento")',
                    data: {tipo: 2, ProcedimientoId: @Model.ProcedimientoId},
                    dataType: 'json',
                    beforeSend: function () {
                        $("#mensajes").hide();
                    },
                    complete: function () {

                    },
                    success: function (result) {
                        sut.msg.success(result.mensaje, function () {
                            //window.location = '/Simplificacion/Procedimiento/DatosGenerales/@Model.ProcedimientoId';
                            window.location = '@Url.Action("SustentoTecnico", "Procedimiento", new { @area = "Simplificacion", @id = Model.ProcedimientoId })';
                        });
                    },
                    error: function (result) {
                        sut.error.show('mensajes', result.responseText);
                    }
                });

            },
            validarObservarExpTecnicoRequisitos: function (idExpediente, procedimientoId, numero,RequisitoId) {
                debugger;
                var Descripcion = $('#Requisito_' + numero + '__Nombre').val() + ";:;" + $('#Requisito_' + numero +'__SustentoTecnico').val();
                var NombreCampo = 'TecnicoRequisitos';

                var model = {
                    'filtro.ExpedienteId': idExpediente,
                    'filtro.ProcedimientoId': procedimientoId,
                    'filtro.Descripcion': Descripcion,
                    'filtro.CodValidacion': '4',
                    'filtro.TipoEstado': '4',
                    'filtro.NombreCampo': 'NombredelosTecnicoRequisitos' + numero,
                    'filtro.Pantalla': 'Sustento Tecnico',
                    'filtro.Estado': '1',
                    'filtro.RequisitoId': RequisitoId,
                };
                $.ajax({
                    type: "POST",
                    //url: '/Simplificacion/Expediente/AgregarObservacion',
                    url: '@Url.Content("~/Simplificacion/Expediente/AgregarObservacion")',
                    data: model,
                    cache: false,
                    beforeSend: function () {
                        //sut.wait.modal('ventana-container');
                        //$('#modal-ventana').modal('show');
                    },
                    success: function (data) {
                        debugger;
                        $('#modal-ventana').modal('hide');
                        $('#aValidarObservarExp' + NombreCampo + '_' + numero + '').css("display", "none");
                        $('#aCancelarGeneralExp' + NombreCampo + '_' +  numero + '').css("display", "");

                        $('#aObservarEditarExp' + NombreCampo + '_' + numero + '').css({ "display": "none" });
                        $('#aMasivoObservarExp' + NombreCampo + '_' + numero + '').css({ "display": "none" });
                        $('#mensajeTecnicoRequisitos_' + numero).show();
                        document.querySelector('#mensajeTecnicoRequisitos_' + numero).innerText = 'Se valido con éxito';

                    },
                    error: function (result) {
                        $('#modal-ventana').modal('hide');
                        sut.error.show('mensajes', result.responseText);
                    }
                });

                comentario = "";
            },

            CancelarGeneralExpTecnicoRequisitos: function (idExpediente, procedimientoId, numero,RequisitoId) {
                debugger;
                var Descripcion = $('#Requisito_' + numero + '__Nombre').val() + ";:;" + $('#Requisito_' + numero + '__SustentoTecnico').val();
                var NombreCampo = 'TecnicoRequisitos';


                var model = {
                    'filtro.ExpedienteId': idExpediente,
                    'filtro.ProcedimientoId': procedimientoId,
                    'filtro.Descripcion': Descripcion,
                    'filtro.CodValidacion': '4',
                    'filtro.TipoEstado': '4',
                    'filtro.NombreCampo': 'NombredelosTecnicoRequisitos' + numero,
                    'filtro.Pantalla': 'Sustento Tecnico',
                    'filtro.Estado': '1',
                    'filtro.RequisitoId': RequisitoId,
                };


                $.ajax({
                    type: "POST",
                    //url: '/Simplificacion/Expediente/CancelarObservacion',
                    url: '@Url.Content("~/Simplificacion/Expediente/CancelarObservacion")',
                    data: model,
                    cache: false,
                    beforeSend: function () {
                        //sut.wait.modal('ventana-container');
                        //$('#modal-ventana').modal('show');
                    },
                    success: function (data) {
                        debugger;
                        $('#modal-ventana').modal('hide');


                        //$('#aValidarObservarExp' + NombreCampo +'_'+ numero + '').css("display", "");
                        $('#aObservarEditarExp' + NombreCampo + '_' + numero + '').css("display", "");
                        //$("#aSustentarObservarExpObjetivo").css("display","");
                        //$("#aMasivoObservarExpObjetivo").css("display","");

                        $('#aCancelarGeneralExp' + NombreCampo + '_' + numero + '').css({ "display": "none" });

                        $('#mensajeTecnicoRequisitos_' + numero + '').hide();
                        document.querySelector('#mensajeTecnicoRequisitos_' + numero + '').innerText = '';

                    },
                    error: function (result) {
                        $('#modal-ventana').modal('hide');
                        sut.error.show('mensajes', result.responseText);
                    }
                });

                comentario = "";
            },
            observareditarExpTecnicoRequisitos: function (num) {
                debugger;
                var tabla = $('#divTecnicoRequisitos0_' + num + ' tbody');
                debugger;
                var NombreCampo = 'TecnicoRequisitos';
                var rows = '';

                /*obsercacion de casillas
                rows += sut.string.format('<tr data-index="{0}" id="trdivTecnicoRequisitos0' + num + '">', num);
                 
                rows += sut.string.format('<td><input style="border-color:green;background:#00a65a36;" type="text" id="NombreD' + num + '" value="{0}" class="form-control" readOnly /></td>', $('#Requisito_'+ num+'__Nombre').val());

                rows += sut.string.format('<td></td>');
                rows += sut.string.format('<td>');
                rows += sut.string.format('<td><input style="border-color:green;background:#00a65a36;" type="text" id="SustentoD' + num + '" value="{0}" class="form-control" readOnly /></td>', $('#Requisito_' + num +'__SustentoTecnico').val());

                rows += sut.string.format('</td>');
                rows += sut.string.format('</tr>');
                    */
                rows += '<tr id="trdivTecnicoRequisitos0_' + num + '">' 
                rows += sut.string.format('<td colspan="5" ><textarea name="TecnicoRequisitos2' + num + '" id="TecnicoRequisitos2' + num + '" onkeypress="javascript:sut.editProcedimiento.ObsVervisualizarSustentotecnico(event,this);" class="form-control" style="border-color:red;background:#ff00002e;"></textarea></td>', '');
                rows += '</tr>';;
            
                tabla.append(rows);

                $('#aAsignarGuardarObservarExp' + NombreCampo +'_'+ num + '').css({ "display": "" });
                $('#aAsignarCancelarObservarExp' + NombreCampo + '_' + num + '').css({ "display": "" });

                $('#aValidarObservarExp' + NombreCampo + '_' + num + '').css("display", "none");
                $('#aCancelarGeneralExp' + NombreCampo + '_' + num + '').css("display", "none");
                $('#aObservarEditarExp' + NombreCampo + '_'+ num + '').css({ "display": "none" });
                $('#aMasivoObservarExp' + NombreCampo + '_' + num + '').css({ "display": "" });

                //$('#trTecnicoRequisitos_' + num + '').hide();
                //document.getElementById('#'+dato+'').style.visibility = "hidden";
                //visible
                //$('#' + dato + 'label').hide();

            },
            ///*trabajar*/
            asignarguardarObservarExpTecnicoRequisitos: function (idExpediente, procedimientoId, numero,RequisitoId) {


                if ($('#TecnicoRequisitos2' + numero).val().trim() == "") {

                    showNotification('top', 'right', 'No puedes Guardar una obseracion en blanco', 2);
                    return;
                }
                debugger;
                sut.editProcedimiento.GuardarObservarExp1TecnicoRequisitos(idExpediente, procedimientoId, numero,RequisitoId);
            },

            GuardarObservarExp1TecnicoRequisitos: function (idExpediente, procedimientoId, numero,RequisitoId) {
                var Descripcion = $('#Requisito_' + numero + '__Nombre').val() + ";:;" + $('#Requisito_' + numero + '__SustentoTecnico').val();
                debugger;

                var model = {
                    'filtro.ExpedienteId': idExpediente,
                    'filtro.ProcedimientoId': procedimientoId,
                    'filtro.Descripcion': Descripcion,
                    'filtro.CodValidacion': '1',
                    'filtro.TipoEstado': '1',
                    'filtro.NombreCampo': 'NombredelosTecnicoRequisitos' + numero,
                    'filtro.Pantalla': 'Sustento Tecnico',
                    'filtro.Estado': '1',
                    'filtro.RequisitoId': RequisitoId,
                };

                $.ajax({
                    type: "POST",
                    //url: '/Simplificacion/Expediente/AgregarObservacion',
                    url: '@Url.Content("~/Simplificacion/Expediente/AgregarObservacion")',
                    data: model,
                    cache: false,
                    success: function (data) {
                        sut.editProcedimiento.GuardarObservarExp2TecnicoRequisitos(idExpediente, procedimientoId, numero,RequisitoId);
                    },
                    error: function (result) {
                        $('#modal-ventana').modal('hide');
                        sut.error.show('mensajes', result.responseText);
                    }
                });

                comentario = "";
            },

            GuardarObservarExp2TecnicoRequisitos: function (idExpediente, procedimientoId, numero,RequisitoId) {
                debugger;
                var NombreCampo = 'TecnicoRequisitos';
                var model = {
                    'filtro.ExpedienteId': idExpediente,
                    'filtro.ProcedimientoId': procedimientoId,
                    'filtro.Descripcion': $('#TecnicoRequisitos2' + numero).val(),
                    'filtro.CodValidacion': '2',
                    'filtro.TipoEstado': '2',
                    'filtro.NombreCampo': 'NombredelosTecnicoRequisitos' + numero,
                    'filtro.Pantalla': 'Sustento Tecnico',
                    'filtro.Estado': '1',
                    'filtro.RequisitoId': RequisitoId,
                };
                $.ajax({
                    type: "POST",
                    //url: '/Simplificacion/Expediente/AgregarObservacion',
                    url: '@Url.Content("~/Simplificacion/Expediente/AgregarObservacion")',
                    data: model,
                    cache: false,
                    beforeSend: function () {
                        //sut.wait.modal('ventana-container');
                        //$('#modal-ventana').modal('show');
                    },
                    success: function (data) {
                        $('#modal-ventana').modal('hide');


                        $('#aCancelarObservarExp' + NombreCampo + '_' + numero + '').css("display", "none");
                        $('#aGuardarObservarExp' + NombreCampo + '_' + numero + '').css({ "display": "none" });
                        $('#aEditarObservarExp' + NombreCampo + '_' + numero + '').css({ "display": "" });

                        $('#mensajeTecnicoRequisitos_' + numero).show();
                        document.querySelector('#mensajeTecnicoRequisitos_' + numero).innerText = 'Se observo con éxito';


                    },
                    error: function (result) {
                        $('#modal-ventana').modal('hide');
                        sut.error.show('mensajes', result.responseText);
                    }
                });

                comentario = "";
            },
            asignarCancelarObservarExpTecnicoRequisitos: function (idExpediente, procedimientoId, numero,RequisitoId) {

                debugger;
                sut.editProcedimiento.CancelarObservacion1TecnicoRequisitos(idExpediente, procedimientoId, numero,RequisitoId);

            },
            CancelarObservacion1TecnicoRequisitos: function (idExpediente, procedimientoId, numero,RequisitoId) {
                var Descripcion = $('#Requisito_' + numero + '__Nombre').val() + ";:;" + $('#Requisito_' + numero + '__SustentoTecnico').val();

                debugger;

                var model = {
                    'filtro.ExpedienteId': idExpediente,
                    'filtro.ProcedimientoId': procedimientoId,
                    'filtro.Descripcion': Descripcion,
                    'filtro.CodValidacion': '1',
                    'filtro.TipoEstado': '1',
                    'filtro.NombreCampo': 'NombredelosTecnicoRequisitos' + numero,
                    'filtro.Pantalla': 'Sustento Tecnico',
                    'filtro.Estado': '1',
                    'filtro.RequisitoId': RequisitoId,
                };

                $.ajax({
                    type: "POST",
                    //url: '/Simplificacion/Expediente/CancelarDescripcion1',
                    url: '@Url.Content("~/Simplificacion/Expediente/CancelarDescripcion1")',
                    data: model,
                    cache: false,
                    beforeSend: function () {
                        //sut.wait.modal('ventana-container');
                        //$('#modal-ventana').modal('show');
                    },
                    success: function (data) {

                        sut.editProcedimiento.CancelarObservacion2TecnicoRequisitos(idExpediente, procedimientoId, numero,RequisitoId);
                    },
                    error: function (result) {
                        $('#modal-ventana').modal('hide');
                        sut.error.show('mensajes', result.responseText);
                    }
                });

                comentario = "";
            },
            CancelarObservacion2TecnicoRequisitos: function (idExpediente, procedimientoId, numero,RequisitoId) {
                var Descripcion = $('#Requisito_' + numero + '__Nombre').val() + ";:;" + $('#Requisito_' + numero + '__SustentoTecnico').val();

                debugger;

                var model = {
                    'filtro.ExpedienteId': idExpediente,
                    'filtro.ProcedimientoId': procedimientoId,
                    'filtro.Descripcion': Descripcion,
                    'filtro.CodValidacion': '2',
                    'filtro.TipoEstado': '2',
                    'filtro.NombreCampo': 'NombredelosTecnicoRequisitos' + numero,
                    'filtro.Pantalla': 'Sustento Tecnico',
                    'filtro.Estado': '1',
                    'filtro.RequisitoId': RequisitoId,
                };


                $.ajax({
                    type: "POST",
                    //url: '/Simplificacion/Expediente/CancelarDescripcion1',
                    url: '@Url.Content("~/Simplificacion/Expediente/CancelarDescripcion1")',
                    data: model,
                    cache: false,
                    beforeSend: function () {
                        //sut.wait.modal('ventana-container');
                        //$('#modal-ventana').modal('show');
                    },
                    success: function (data) {

                        sut.editProcedimiento.CancelarObservacion3TecnicoRequisitos(idExpediente, procedimientoId, numero,RequisitoId);

                    },
                    error: function (result) {
                        $('#modal-ventana').modal('hide');
                        sut.error.show('mensajes', result.responseText);
                    }
                });

                comentario = "";
            },
            CancelarObservacion3TecnicoRequisitos: function (idExpediente, procedimientoId, numero,RequisitoId) {
                debugger;
                var Descripcion = $('#Requisito_' + numero + '__Nombre').val() + ";:;" + $('#Requisito_' + numero + '__SustentoTecnico').val();
                var NombreCampo = 'TecnicoRequisitos';
                var model = {
                    'filtro.ExpedienteId': idExpediente,
                    'filtro.ProcedimientoId': procedimientoId,
                    'filtro.Descripcion': Descripcion,
                    'filtro.CodValidacion': '3',
                    'filtro.TipoEstado': '3',
                    'filtro.NombreCampo': 'NombredelosTecnicoRequisitos' + numero,
                    'filtro.Pantalla': 'Sustento Tecnico',
                    'filtro.Estado': '1',
                    'filtro.RequisitoId': RequisitoId,
                };

                $.ajax({
                    type: "POST",
                    //url: '/Simplificacion/Expediente/CancelarDescripcion1',
                    url: '@Url.Content("~/Simplificacion/Expediente/CancelarDescripcion1")',
                    data: model,
                    cache: false,
                    beforeSend: function () {
                        //sut.wait.modal('ventana-container');
                        //$('#modal-ventana').modal('show');
                    },
                    success: function (data) {
                        debugger;
                        $('#modal-ventana').modal('hide');

                        //document.getElementById('#'+dato+'').style.visibility = "hidden";
                        //visible
                        $('#trTecnicoRequisitos_' + numero + '').show();

                        //$('#aValidarObservarExp' + NombreCampo + '_' + numero + '').css({ "display": "" });
                        $('#aObservarEditarExp' + NombreCampo + '_' + numero + '').css({ "display": "" });

                        $('#aAsignarGuardarObservarExp' + NombreCampo + '_' + numero + '').css({ "display": "none" });
                        $('#aAsignarCancelarObservarExp' +   NombreCampo + '_' + numero + '').css({ "display": "none" });


                        $('#trdivTecnicoRequisitos0' + numero + '').remove();
                        $('#trdivTecnicoRequisitos0_' + numero + '').remove();
                        $('#mensajeTecnicoRequisitos_' + numero).hide();
                        document.querySelector('#mensajeTecnicoRequisitos_' + numero).innerText = '';



                    },
                    error: function (result) {
                        $('#modal-ventana').modal('hide');
                        sut.error.show('mensajes', result.responseText);
                    }
                });


                comentario = "";
            },

            textoobservacionTecnicoRequisitos: function (Descripcion, Descripcion2, estado, nomcampo, num) {
                debugger;



                var Des = Descripcion.split(";");
                var tabla = $('#divTecnicoRequisitos0_' + num + ' tbody');
                debugger;
                //var Descripcion = $('#DesTecnicoRequisitos' + num).val() + ";" + $('#chekTecnicoRequisitos' + num).val() + ";" + $('#PreTecnicoRequisitos' + num).val() + ";" + $('#CostoTecnicoRequisitos' + num).val();
                var NombreCampo = 'TecnicoRequisitos';
                var rows = '';

                //rows += sut.string.format('<tr data-index="{0}" id="trdivTecnicoRequisitos0' + num + '"  >', num);
                ////rows += sut.string.format('<td >');
                ////rows += sut.string.format('</td>');
                //rows += sut.string.format('<td><input style="border-color:green;background:#00a65a36;" type="text" id="NombreD' + num + '" value="{0}" class="form-control" readOnly /></td>', Des[0]);

                //rows += sut.string.format('<td></td>');
                //rows += sut.string.format('<td>');
                //rows += sut.string.format('<td><input style="border-color:green;background:#00a65a36;" type="text" id="SustentoD' + num + '" value="{0}" class="form-control" readOnly /></td>', Des[1]);

                //rows += sut.string.format('</td>');
                //rows += sut.string.format('</tr>');




                rows += '<tr id="trdivTecnicoRequisitos0_' + num + '">'
                //rows += sut.string.format('<td style="width:100px;"> </td>');
                rows += sut.string.format('<td colspan="5" ><textarea name="TecnicoRequisitos2' + num + '" id="TecnicoRequisitos2' + num + '" onkeypress="javascript:sut.editProcedimiento.ObsVervisualizarSustentotecnico(event,this);" class="form-control" style="border-color:red;background:#ff00002e;">{0}</textarea></td>', Descripcion2);
                rows += '</tr>';;

                tabla.append(rows);


                $('#aAsignarGuardarObservarExp' + NombreCampo +'_'+ num + '').css({ "display": "" });
                $('#aAsignarCancelarObservarExp' + NombreCampo + '_' + num + '').css({ "display": "" });

                $('#aValidarObservarExp' + NombreCampo +'_'+ num + '').css("display", "none");
                $('#aCancelarGeneralExp' + NombreCampo +'_'+ num + '').css("display", "none");
                $('#aObservarEditarExp' + NombreCampo +'_'+ num + '').css({ "display": "none" });
                $('#aMasivoObservarExp' + NombreCampo +'_'+ num + '').css({ "display": "" });




                //if (estado == 'Presentado') {
                //    $('#' + nomcampo + '').hide();
                //    //document.getElementById('#'+dato+'').style.visibility = "hidden";
                //    //visible
                //    $('#' + nomcampo + 'label').hide();

                //} else {
                //    $('#' + nomcampo + '').show();
                //    //document.getElementById('#'+dato+'').style.visibility = "hidden";
                //    //visible
                //    $('#' + nomcampo + 'label').show();
                //}


            },
            textosustento: function (Descripcion2, estado, nomcampo, num) {


                var tabla = $('#divTecnicoRequisitos0_' + num + ' tbody');
                debugger;
                //var Descripcion = $('#DesModalidad' + num).val() + ";" + $('#chekModalidad' + num).val() + ";" + $('#PreModalidad' + num).val() + ";" + $('#CostoModalidad' + num).val();
                var NombreCampo = 'Requisitos';
                var rows = '';


                rows += '<tr id="trdivsustentarRequisitos0_' + num + '">'
                rows += sut.string.format('<td style="width:20px;"> </td>');
                rows += sut.string.format('<td colspan="5" ><textarea name="Requisitos2' + num + '" id="Requisitos2' + num + '" class="form-control" style="border-color:#f39c12;background:#f39c1259;" readOnly>{0}</textarea></td>', Descripcion2);

                rows += '</tr>';;

                tabla.append(rows);


                $('#aSustentarObservarExp'+NombreCampo+num+'').css({ "display": "none" });
                $('#aGuardarSustentarExp'+NombreCampo+num+'').css({ "display": "" });
                $('#aCancelarSustentarExp'+NombreCampo+num+'').css({ "display": "" });
            },

        };


        function observarbotonesModalidad(NombreCampo, num) {
            $('#aAsignarGuardarObservarExp' + NombreCampo +'_'+ num + '').css({ "display": "" });
            $('#aAsignarCancelarObservarExp' + NombreCampo + '_' + num + '').css({ "display": "" });

            $('#aValidarObservarExp' + NombreCampo + '_' + num + '').css("display", "none");
            $('#aCancelarGeneralExp' + NombreCampo + '_' + num + '').css("display", "none");
            $('#aObservarEditarExp' + NombreCampo + '_' + num + '').css({ "display": "none" });
            $('#aMasivoObservarExp' + NombreCampo + '_' + num + '').css({ "display": "" });
        }
        function valiarbotonesModalidad(NombreCampo, num) {
            //$('#aValidarObservarExp' + NombreCampo + '_' + num + '').css("display", "");
            $('#aCancelarGeneralExp' + NombreCampo + '_' + num + '').css("display", "");
            $('#aObservarEditarExp' + NombreCampo + '_' + num + '').css({ "display": "none" });
            $('#aMasivoObservarExp' + NombreCampo + '_' + num + '').css({ "display": "none" });
        }
        function canceladobotonesModalidad(NombreCampo, num) {
            $('#aAsignarGuardarObservarExp' + NombreCampo + '_' + num + '').css({ "display": "none" });
            $('#aAsignarCancelarObservarExp' + NombreCampo + '_' + num + '').css({ "display": "none" });
            //$('#aValidarObservarExp' + NombreCampo + '_' + num + '').css("display", "");
            $('#aCancelarGeneralExp' + NombreCampo + '_' + num + '').css("display", "none");
            $('#aObservarEditarExp' + NombreCampo + '_' + num + '').css({ "display": "" });
            $('#aMasivoObservarExp' + NombreCampo + '_' + num + '').css({ "display": "none" });
        }
        function sustentobotones(NombreCampo, num) {


            $('#aSustentarObservarExp'+NombreCampo+'_' + num + '').css({ "display": "none" });
            $('#aGuardarSustentarExp'+NombreCampo+'_' + num + '').css({ "display": "" });
            $('#aCancelarSustentarExp'+NombreCampo+'_' + num + '').css({ "display": "" });

        }

        function valiarbotones(NombreCampo) {
            //$('#aValidarObservarExp' + NombreCampo + '').css("display", "");
            $('#aCancelarGeneralExp' + NombreCampo + '').css("display", "");
            $('#aObservarEditarExp' + NombreCampo + '').css({ "display": "none" });
            $('#aMasivoObservarExp' + NombreCampo + '').css({ "display": "none" });
        }

        function observarbotones(NombreCampo) {
            $('#aAsignarGuardarObservarExp'+NombreCampo+'').css({ "display": "" });
            $('#aAsignarCancelarObservarExp'+NombreCampo+'').css({ "display": "" });

            $('#aValidarObservarExp'+NombreCampo+'').css("display","none");
            $('#aCancelarGeneralExp'+NombreCampo+'').css("display", "none");
            $('#aObservarEditarExp'+NombreCampo+'').css({ "display": "none" });
            $('#aMasivoObservarExp'+NombreCampo+'').css({ "display": "" });
        }


        function canceladobotonessustento(NombreCampo) {
            $('#aSustentarObservarExp' + NombreCampo + '').css({ "display": "none" });
        }

        function sustentobotones(NombreCampo) {


            $('#aSustentarObservarExp' + NombreCampo + '').css({ "display": "none" });
            $('#aGuardarSustentarExp' + NombreCampo + '').css({ "display": "" });
            $('#aCancelarSustentarExp' + NombreCampo + '').css({ "display": "" });

        }
        function canceladobotones(NombreCampo) {
            $('#aAsignarGuardarObservarExp' + NombreCampo + '').css({ "display": "none" });
            $('#aAsignarCancelarObservarExp' + NombreCampo + '').css({ "display": "none" });
            //$('#aValidarObservarExp' + NombreCampo + '').css("display", "");
            $('#aCancelarGeneralExp' + NombreCampo + '').css("display", "none");
            $('#aObservarEditarExp' + NombreCampo + '').css({ "display": "" });
            $('#aMasivoObservarExp' + NombreCampo + '').css({ "display": "none" });
        }


        $(function () {  
            sut.editProcedimiento.BaseLegal.init();
            /*habilitar observación*/
            $("#aCancelarObservarExp").css({ "display": "none" });
            $("#aGuardarObservarExp").css({ "display": "none" });
            $("#aEditarObservarExp").css({ "display": "" });
            $("#txtaObservarExp").prop("disabled", true)

            /*fin observación*/

            $('#form-editar').validate({
                errorPlacement: function (error, element) {
                    if (element.parent('div.input-group').length > 0) {
                        error.insertAfter(element.parent('div.input-group'));
                    } else {
                        error.insertAfter(element);
                    }
                },
                rules: {

                },
                messages: {

                }
            });
        });
    </script>
}
